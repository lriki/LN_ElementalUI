デザインファイルとテーマ
==========

ここでは UI のレイアウトを記述する「デザインファイル」と、それらをとりまとめる「テーマ」について説明します。

テーマの設定
----------

まずはチュートリアル用に用意されているテーマに変更してみましょう。

プラグインパラメータの「テーマ」 に `Tutorial` と入力してゲームを起動してください。

![](img/design-1.png)

次のようなタイトル画面が表示されます。

![](img/design-2.png)

テーマ
----------

テーマとは、レイアウトや見た目の設定をグループ化する機能です。

データフォルダを見てみましょう。 `data/ui` フォルダの中に、次のようなフォルダが保存されています。

```
- 📁<プロジェクトフォルダ>
  - 📁data
    - 📁ui
      - 📁Default
      - 📁Tutorial
      - 📁Carnation
```

この `Default`, `Tutorial`, `Carnation` のフォルダがテーマフォルダです。

この中にテーマごとの設定や画像ファイルを保存します。

デザインファイル
----------

デザインファイルは、ウィンドウのレイアウトや見た目を設定する .js ファイルです。

例えば Tutorial テーマの中には次のようなファイルが保存されています。

```
- 📁Tutorial
  - 📄Scene_Title.js
```

Scene_Title.js を開くと、次のような設定が書かれています。

```js
Scene({
    class: "Scene_Title",
    contents: [
        // コマンドウィンドウの位置とウィンドウスキンを変更する
        Window({
            class: "Window_TitleCommand",
            left: 500,
            top: 384,
            windowskin: "img/Window1",
        }),
        // 左下にバージョン情報のウィンドウを表示する
        Window({
            alignment: "bottom-left",
            contents: [
                Text({ text: "Ver: 0.1.0, Theme: Tutorial" }),
            ]
        })
    ],
})
```

- 1~2 行目で、 `Scene_Title`、つまりタイトル画面が表示されたときに、このデザインを適用することを示します。
- 1つ目の `Window` は、標準のタイトル画面のコマンドウィンドウに対して、以下に書かれている設定を適用することを示します。この例では、 `left` と `top` でウィンドウの位置、 `windowskin` でこのウィンドウに個別のウィンドウスキンを指定しています。
- 2つ目の `Window` は、全く新しい独自のウィンドウを追加することを示します。

2種類のデザインファイル
----------

デザインファイルには次の種類があります。

- Scene デザインファイル
- Window デザインファイル

### Scene デザインファイル

タイトル画面、メニュー画面など、遷移した画面（シーン）全体に適用するデザインファイルです。

### Window デザインファイル

個々のウィンドウのデザインファイルです。
所持金のウィンドウなど、複数のシーンから使われるウィンドウの共通の設定を書いておくことができます。

Scene デザインファイルに書かれていないウィンドウでも、Window デザインファイルがあれば、ウィンドウが作られたときに設定が適用されます。

!!! tip "どちらに設定を書けばよい？"
    ほとんどの設定は、どちらのファイルにも書くことができますが、Scene デザインファイル に書かれている内容の方が優先されます。
    
    Window デザインファイルを使う場合、Window デザインファイルにはウィンドウの内容や見た目を書き、Scene デザインファイルではウィンドウの位置情報を設定するようにすると、情報を使いまわしやすいです。

  
